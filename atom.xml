<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>My World</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://renewfan.github.io/"/>
  <updated>2020-03-30T07:24:01.416Z</updated>
  <id>https://renewfan.github.io/</id>
  
  <author>
    <name>MrFan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>tpxcx</title>
    <link href="https://renewfan.github.io/2020/03/30/tpxcx/"/>
    <id>https://renewfan.github.io/2020/03/30/tpxcx/</id>
    <published>2020-03-30T07:18:42.000Z</published>
    <updated>2020-03-30T07:24:01.416Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h2><span id="url访问">url访问</span></h2><p>PATH_INFO 混合模式 默认为混合模式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 是否开启路由</span><br><span class="line">&apos;url_route_on&apos;           =&gt; true,</span><br></pre></td></tr></table></figure><p><code>path_info</code>和路由混合使用（同一个方法开启路由后不能使用 path_info 模式）</p><p>强制使用路由模式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 是否强制使用路由</span><br><span class="line">&apos;url_route_must&apos;         =&gt; false,</span><br></pre></td></tr></table></figure><p>1、PATH_INFO 模式的url路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://servaerName/index.php/module/controller/action/[param/value]</span><br><span class="line">域名/入口文件/模块/控制器/方法/[参数名/参数值]</span><br></pre></td></tr></table></figure><p>默认 url 不区分大小写</p><p>如果希望 URL访问严格区分大小写，可以在应用配置文件中设置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 关闭URL中控制器和操作名的自动转换</span><br><span class="line">&apos;url_convert&apos; =&gt; false,</span><br></pre></td></tr></table></figure></p><p>2、兼容模式 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://servaerName/index.php?s=module/controller/action/[param/value]</span><br></pre></td></tr></table></figure><p>3、缺点</p><pre><code>太长url路径暴露服务器结构文件不够灵活，不能很好支持url语义化 </code></pre><h2><span id="命名空间更改">命名空间更改</span></h2><p> config.php</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 应用命名空间</span><br><span class="line">&apos;app_namespace&apos;          =&gt; &apos;app&apos;,</span><br></pre></td></tr></table></figure><h2><span id="no-input-file-specified">No input file specified</span></h2><p>使用TP框架做项目时，在启用REWRITE的伪静态功能的时候，首页可以访问，但是访问其它页面的时候，就提示：“No input file specified.”</p><p>原因:   在于使用的PHP5.6是fast_cgi模式，而在某些情况下，不能正确识别path_info所造成的错误</p><p>解决：在public 目录下 .htaccess 文件中进行修改即可（在 index.php后面加?）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RewriteRule ^(.*)$ index.php?/$1 [QSA,PT,L]</span><br></pre></td></tr></table></figure><p>创建数据库</p><p>建立数据库，字符集 utf8mb4 ，排序规则 utf8mb4_general_ci</p><h2><span id="自定义控制器多级目录">自定义控制器多级目录</span></h2><p>在控制器下有分类时需要使用 <code>分类.控制器</code> 的方式在路由中设置路由地址<br>控制器文件夹下再分类时路由的使用</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpute.php</span><br><span class="line"><span class="comment">//自动分别版本访问</span></span><br><span class="line">Route::get(<span class="string">'api/:version/banner/:id'</span>,<span class="string">'api/:version.Banner/getbanner'</span>);</span><br></pre></td></tr></table></figure><p>model 进行一般简单操作<br>service    进行复杂操作</p><h2><span id="restful-api">RESTFul API</span></h2><p>基于rest的api设计理论，一般为json描述数据<br>基于资源变化，增删改查都只是对资源状态的改变<br>url 作为资源。</p><p>http动词(GET\POST\PUT)为资源的操作</p><pre><code>POST:创建GET:获取PUT:更新DELETE:删除</code></pre><p>状态码:</p><pre><code>404 资源未找到(页面不存在)400 参数错误200 get获取资源成功201 post创建资源成功202 put更新成功(请求已发送但是服务器暂时没有处理)401 未授权403 被禁止500 服务器位置错误</code></pre><p>统一描述错误：</p><p>错误码、错误信息、当前url</p><p>异常处理</p><pre><code>1、由于用户行为导致的异常，没有通过验证器、没有查询到结果    不需要日志记录，需要向用户返回错误信息2、服务器自身异常；代码错误、调用第三方接口错误    需要日志记录，不需要向用户返回错误信息设置全局异常处理重写框架自带异常类设置用户异常处理基类</code></pre><h2><span id="数据库梳理">数据库梳理</span></h2><h3><span id="1-首页轮播图">1、首页轮播图</span></h3><p>banner banner_item 一对多</p><p>一个banner（对应不同banner位置）对应多个banner_item （每个位置对应的不同banner详情）</p><p>一个 banner_item 只能对应一个 banner</p><p>banner_item image 一对一</p><p>外键关联 banner_id、img_id</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">banner -- id\banner_id\一对多---banner_item</span><br><span class="line">banner_item -- img_id\id\一对一 ---image</span><br></pre></td></tr></table></figure><h3><span id="2-专题">2、专题</span></h3><p>theme 专题表</p><p>topic_img_id 首页专题图片</p><p>head_img_id 点击专题进入的头部图片</p><p>theme 专题、product 产品多对多</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">theme  -- topic_img_id\id一对一 ---image</span><br><span class="line">theme  -- head_img_id\id一对一 ---image</span><br><span class="line">theme  -- id\theme_id\多对多---theme_product</span><br><span class="line">theme_product -- theme_id\product_id\多对多 ---product</span><br></pre></td></tr></table></figure><h3><span id="3-产品详情">3、产品详情</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">product  -- img_id\id一对多 ---image</span><br><span class="line">product  -- id\product_id\一对多 ---product_property/商品属性</span><br><span class="line">product  -- id\product_id\一对多 ---product_image/商品详情图片</span><br><span class="line">product_image/商品详情图片  -- id\id\一对一多---image</span><br></pre></td></tr></table></figure><h2><span id="api版本自动识别切换">api版本自动识别切换</span></h2><p>api多个版本时访问切换<br>在路由中将版本参数设为动态即可</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动态api版本识别</span></span><br><span class="line">Route::get(<span class="string">'api/:apiversion/banner/:id'</span>,<span class="string">'api/:apiversion.Banner/getbanner'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-api</span><br><span class="line"> controller</span><br><span class="line"> v1</span><br><span class="line">   Banner.php</span><br><span class="line"> v2</span><br><span class="line">   Banner.php</span><br></pre></td></tr></table></figure><p>访问</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//tp/api/v1/banner/1</span></span><br><span class="line">http:<span class="comment">//tp/api/v2/banner/1</span></span><br></pre></td></tr></table></figure><p>model上层封装 service，将复杂业务放在 service 层中、将简单业务逻辑放在 model 层中</p><h2><span id="sprintfformatarg1arg2arg">sprintf(format,arg1,arg2,arg++)</span></h2><p>把格式化的字符串写入变量中，把百分号（%）符号替换成一个作为参数进行传递的变量</p><p><em>arg1</em>、<em>arg2</em>、<em>++</em> 参数将被插入到主字符串中的百分号（%）符号处。该函数是逐步执行的。在第一个 % 符号处，插入 <em>arg1</em>，在第二个 % 符号处，插入 <em>arg2</em>，依此类推</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><em>format</em></td><td>必需。<br>规定字符串以及如何格式化其中的变量。<br>可能的格式值：<br>%% - 返回一个百分号 <br>%%b - 二进制数%c - ASCII 值对应的字符<br>%d - 包含正负号的十进制数（负数、0、正数）<br>%o - 八进制数<br>%s - 字符串</td></tr><tr><td><em>arg1</em></td><td>必需。规定插到 <em>format</em> 字符串中第一个 % 符号处的参数。</td></tr><tr><td><em>arg2</em></td><td>可选。规定插到 <em>format</em> 字符串中第二个 % 符号处的参数。</td></tr><tr><td><em>arg++</em></td><td>可选。规定插到 <em>format</em> 字符串中第三、四等 % 符号处的参数</td></tr></tbody></table><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$number = <span class="number">2</span>;</span><br><span class="line">$str = <span class="string">"Shanghai"</span>;</span><br><span class="line">$txt = sprintf(<span class="string">"There are %u million cars in %s."</span>,$number,$str);</span><br><span class="line"><span class="keyword">echo</span> $txt;<span class="comment">//There are 2 million cars in Shanghai</span></span><br></pre></td></tr></table></figure><h2><span id="curl">curl</span></h2><p>curl_init()    初始化</p><p>curl_setopt()    设置属性</p><p>curl_exec()    执行并获取结果</p><p>curl_close()    释放句柄</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curl_get</span><span class="params">($url)</span></span>&#123;</span><br><span class="line">    $curl = curl_init();</span><br><span class="line">    <span class="comment">//需要获取的 URL 地址</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_URL, $url);</span><br><span class="line">    <span class="comment">//设置获取的信息以文件流的形式返回，而不是直接输出</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">//允许 cURL 函数执行的最长秒数</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_TIMEOUT, <span class="number">30</span>);</span><br><span class="line">    <span class="comment">//在尝试连接时等待的秒数。设置为0，则无限等待</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, <span class="number">10</span>);</span><br><span class="line">    <span class="comment">//FALSE 禁止 cURL 验证ssl证书</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, <span class="keyword">false</span>);</span><br><span class="line">    <span class="comment">//不检查服务器SSL证书中是否存在一个公用名</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, <span class="keyword">false</span>);</span><br><span class="line"><span class="comment">//执行</span></span><br><span class="line">    $output = curl_exec($curl);</span><br><span class="line">    <span class="comment">//获取一个cURL连接资源句柄的信息</span></span><br><span class="line">    $info   = curl_getinfo($curl);</span><br><span class="line">    <span class="comment">//关闭释放句柄</span></span><br><span class="line">    curl_close($curl);</span><br><span class="line"><span class="comment">//检测 http状态码 是否已设置并且非 NULL且为200</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($info[<span class="string">'http_code'</span>]) &amp;&amp; <span class="number">200</span> == $info[<span class="string">'http_code'</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> $output;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curl_post</span><span class="params">($url, $data = [], $header = [])</span></span>&#123;</span><br><span class="line">    $curl = curl_init();</span><br><span class="line">    curl_setopt($curl, CURLOPT_URL, $url);</span><br><span class="line">    <span class="comment">//TRUE 时会发送 POST 请求，类型为：application/x-www-form-urlencoded</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_POST, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>($header)) &#123;</span><br><span class="line">        <span class="comment">//设置 HTTP 头字段的数组。格式:['Content-type: text/plain', 'Content-length: 100']</span></span><br><span class="line">        curl_setopt($curl, CURLOPT_HTTPHEADER, $header);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//启用时会将头文件的信息作为数据流输出</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_HEADER, <span class="number">0</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_TIMEOUT, <span class="number">30</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, <span class="number">10</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//全部数据使用HTTP协议中的 "POST" 操作来发送</span></span><br><span class="line">    curl_setopt($curl, CURLOPT_POSTFIELDS, $data);</span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, <span class="keyword">false</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    $output = curl_exec($curl);</span><br><span class="line">    $info   = curl_getinfo($curl);</span><br><span class="line">    curl_close($curl);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($info[<span class="string">'http_code'</span>]) &amp;&amp; <span class="number">200</span> == $info[<span class="string">'http_code'</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> $output;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//get、post</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">httpcurl</span><span class="params">($url,$method,$data = [],$header = [])</span></span>&#123;</span><br><span class="line">    $curl = curl_init();</span><br><span class="line">    curl_setopt($curl, CURLOPT_URL, $url);</span><br><span class="line">    <span class="keyword">if</span>($method==<span class="string">"POST"</span>)&#123;</span><br><span class="line">        curl_setopt($curl, CURLOPT_POST, <span class="number">1</span>);</span><br><span class="line">        curl_setopt($curl,CURLOPT_POSTFIELDS,$data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>($header)) &#123;</span><br><span class="line">        curl_setopt($curl, CURLOPT_HTTPHEADER, $header);</span><br><span class="line">    &#125;</span><br><span class="line">    curl_setopt($curl, CURLOPT_HEADER, <span class="number">0</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_TIMEOUT, <span class="number">30</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, <span class="number">10</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, <span class="keyword">false</span>);</span><br><span class="line">    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    $output = curl_exec($curl);</span><br><span class="line">    $info   = curl_getinfo($curl);</span><br><span class="line">    curl_close($curl);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($info[<span class="string">'http_code'</span>]) &amp;&amp; <span class="number">200</span> == $info[<span class="string">'http_code'</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> $output;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line">$data=[<span class="string">'name'</span>=&gt;<span class="string">'admin'</span>,<span class="string">'pwd'</span>=&gt;<span class="number">123</span>]</span><br><span class="line">httpcurl(<span class="string">'http://ww.baidu.com'</span>,</span><br><span class="line">         <span class="string">'POST'</span>,</span><br><span class="line">         $data,</span><br><span class="line">         [<span class="string">'Content-Type: application/json'</span>,<span class="string">'Content-Length: '</span> . strlen($data)]</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><h2><span id="权限控制">权限控制</span></h2><p>在访问与用户信息相关的接口是需要携带令牌进行访问且需要具备特定权限</p><p>利用前置操作对令牌验证、权限判断</p><p>前置操作需要该控制器继承基础Controller控制器类</p><h2><span id="订单-支付">订单-支付</span></h2><p>用户选择商品，将选择的商品信息提交到订单api</p><p>接收到选择的商品信息<strong>检查提交的商品的库存量</strong></p><p>1、有库存</p><p>&emsp;&emsp;1-1、将订单数据存入数据库，下单成功</p><p>&emsp;&emsp;1-2、<strong>再次检测库存</strong>，库存正常则调用微信支付</p><p>&emsp;&emsp;1-3、在调用微信支付至微信支付返回结果间<strong>再次检测库存</strong></p><p>&emsp;&emsp;1-4、根据微信支付结果对库存量进行操作</p><p>&emsp;&emsp;1-5、成功：减少库存，</p><p>下单支付流程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">小程序 --1-选择商品下单--&gt;API</span><br><span class="line">API--2-库存检测通过下单成功--&gt;小程序</span><br><span class="line">小程序 --3-调用支付API--&gt;API</span><br><span class="line">API--4-微信预订单接口获取支付参数--&gt; 微信服务器</span><br><span class="line">微信服务器--5-支付参数--&gt;API</span><br><span class="line">API--6-将支付参数返回--&gt;小程序</span><br><span class="line">小程序--&gt;7-调用支付api/传递支付参数/拉起支付界面</span><br><span class="line">7-调用支付api/传递支付参数/拉起支付界面--&gt;微信服务器</span><br><span class="line">微信服务器--&gt;8-支付状态</span><br><span class="line">8-支付状态--&gt;小程序</span><br><span class="line">微信服务器--&gt;8-异步推送是否支付成功</span><br><span class="line">8-异步推送是否支付成功--&gt;API</span><br></pre></td></tr></table></figure></p><p><img src="http://wx1.sinaimg.cn/mw690/d97c4d37ly1fwrcksx01kj20jg05twhr.jpg" alt="image"></p><p>2、无库存</p><h3><span id="创建订单">创建订单</span></h3><p>订单创建时需要将订单中涉及的商品谢谢、用户收获地址信息等可能变动的信息作为即时快照进行存储，</p><p>保证用户在后期查看历史订单时订单信息<br>订单中商品信息、地址信息等没有变化，</p><p>不会因为商家后台配置而改变历史订单信息</p><p>oredr -&gt; product 多对多&emsp;拆分为两个一对多</p><pre><code>order_product-&gt;oredr | order_product-&gt;product</code></pre><h3><span id="库存检测">库存检测</span></h3><h3><span id="微信支付">微信支付</span></h3><h4><span id="支付成功回调处理库存-订单">支付成功回调处理库存、订单</span></h4><h2><span id="历史订单">历史订单</span></h2><p>历史订单查询不能一次性把所有的查询出来</p><h2><span id="利用缓存性能优化">利用缓存性能优化</span></h2><p>tp5 框架中模型类查询数据库每次都动态查询数据库数据表字段</p><p>将数据表、路由查询存为缓存，后续直接查询缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php think optimize:schema</span><br><span class="line">php think optimize:route</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[TOC]&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;url访问&quot;&gt;url访问&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;PATH_INFO 混合模式 默认为混合模式&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutte
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>基础CSS</title>
    <link href="https://renewfan.github.io/2018/12/18/css/"/>
    <id>https://renewfan.github.io/2018/12/18/css/</id>
    <published>2018-12-17T16:00:00.000Z</published>
    <updated>2019-01-02T08:06:05.948Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="css">CSS</span></h1><!-- toc --><ul><li><a href="#css选择器">css选择器：</a></li><li><a href="#字体">字体</a></li><li><a href="#背景"><strong>背景</strong></a><ul><li><a href="#背景位置">背景位置</a></li><li><a href="#背景滚动">背景滚动</a></li></ul></li><li><a href="#文本">文本</a><ul><li><a href="#文本下划线">文本下划线</a></li><li><a href="#首行缩进">首行缩进</a></li><li><a href="#文本换行">文本换行</a></li><li><a href="#边框">边框</a></li><li><a href="#外边距">外边距</a></li><li><a href="#内边距">内边距</a></li><li><a href="#定位">定位</a></li><li><a href="#block-inline-inline-block">block、inline、inline-block</a></li></ul></li></ul><!-- tocstop --><h2><span id="css选择器">css选择器：</span></h2><p>标签选择器：html标签选择，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">span&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>id选择器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#id&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>class类选择器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.class&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>关联选择器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.class h1&#123;</span><br><span class="line">    color:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>伪元素选择器：（ie）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a:link&#123;</span><br><span class="line">   color:red;</span><br><span class="line">   font-size:2em</span><br><span class="line">&#125; </span><br><span class="line">//默认  active点击  </span><br><span class="line">visited点击完  hove</span><br></pre></td></tr></table></figure><p>组合选择器：多个选择器逗号连接一起使用</p><h2><span id="字体">字体</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">font-famliy:字体名;  //字体样式 </span><br><span class="line">font-size:20px;     //字体大小</span><br><span class="line">color:red;          //颜色</span><br><span class="line">font-weight:bold;   //字体粗细</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">normal：正常的字体。相当于数字值400</span><br><span class="line">bold：粗体。相当于数字值700。</span><br><span class="line">bolder：定义比继承值更重的值</span><br><span class="line">lighter：定义比继承值更轻的值</span><br><span class="line">用数字表示文本字体粗细。</span><br><span class="line">    取值范围：100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">font-size:normal; </span><br><span class="line">normal：指定文本字体样式为正常的字体</span><br><span class="line">italic：指定文本字体样式为斜体。</span><br><span class="line">        对于没有设计斜体的特殊字体，如果要使用斜体外观将应用oblique</span><br><span class="line">oblique：指定文本字体样式为倾斜的字体。</span><br><span class="line">        人为的使文字倾斜，而不是去选取字体中的斜体字</span><br></pre></td></tr></table></figure><h2><span id="背景"><strong>背景</strong></span></h2><p><strong>body、h1、p等标签本身含有边距，用全局清除页边距</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*&#123;margin:0px;padding:0px&#125;</span><br></pre></td></tr></table></figure><p>背景色\背景图</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">backgroung-color:red;</span><br><span class="line">background-image:url(&apos;图片路径&apos;); //none：无背景图。</span><br><span class="line">//当同时定义了背景颜色和背景图像时，背景图像覆盖在背景颜色之上。</span><br><span class="line">background-repeat:repeat; //是否平铺</span><br><span class="line">background-position:left top;</span><br></pre></td></tr></table></figure><p>多组背景图，且背景图之间有重叠，写在前面的将会盖在写在后面的图像之上</p><h3><span id="背景位置">背景位置</span></h3><p>一个参数时用于横向和纵向</p><p>如果提供全部2个参数，第1个用于横向，第二个用于纵向</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">repeat-x：背景图像在横向上平铺</span><br><span class="line">repeat-y：背景图像在纵向上平铺</span><br><span class="line">repeat：背景图像在横向和纵向平铺</span><br><span class="line">no-repeat：背景图像不平铺（不平埔时其他区域用背景色填充）</span><br><span class="line">round：背景图像自动缩放直到适应且填充满整个容器。（CSS3）</span><br><span class="line">space：背景图像以相同的间距平铺且填充满整个容器或某个方向。（CSS3）</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">background-position:left top;    （左上角为0，0），所以位置上移时为负值</span><br><span class="line"></span><br><span class="line">该属性提供2个参数值（CSS3中已允许提供3，4个值）。</span><br><span class="line">设置3个或4个值，偏移量前必须有关键字</span><br><span class="line">如果提供两个，第一个用于横坐标，第二个用于纵坐标</span><br><span class="line">如果只提供一个，该值将用于横坐标；纵坐标将默认为50%（即center）。</span><br></pre></td></tr></table></figure><h3><span id=""> </span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- 背景图像在容器中右下方，并且距离右边和底部各有20px</span><br><span class="line"></span><br><span class="line">background:url(test1.jpg) no-repeat right 20px bottom 20px;</span><br><span class="line"></span><br><span class="line">enter：背景图像横向和纵向居中。</span><br><span class="line">left：背景图像在横向上填充从左边开始。</span><br><span class="line">right：背景图像在横向上填充从右边开始。</span><br><span class="line">top：背景图像在纵向上填充从顶部开始。</span><br><span class="line">bottom：背景图像在纵向上填充从底部开始。</span><br></pre></td></tr></table></figure><h3><span id="背景滚动">背景滚动</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">background-attachment:scroll;</span><br><span class="line"></span><br><span class="line">设置或检索背景图像是随对象内容滚动还是固定的。必须先指定 background-image 属性。</span><br><span class="line"></span><br><span class="line">fixed：背景图像相对于窗体固定。</span><br><span class="line">scroll：背景图像相对于元素固定，</span><br><span class="line">    当元素内容滚动时背景图像不会跟着滚动，但会随元素的祖先元素或窗体一起滚动。</span><br><span class="line">local：</span><br><span class="line">    背景图像相对于元素内容固定，</span><br><span class="line">    当元素随元素滚动时背景图像也会跟着滚动，因为背景图像总是要跟着内容。（CSS3）</span><br></pre></td></tr></table></figure><h2><span id="文本">文本</span></h2><h3><span id="文本下划线">文本下划线</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text-decoration:none;(文本装饰的种类，如a标签去除下划线)</span><br><span class="line">                none | underline | overline | line-through | blink（带闪烁文字）</span><br></pre></td></tr></table></figure><p>文本位置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">text-align:start;</span><br><span class="line"></span><br><span class="line">left：内容左对齐。</span><br><span class="line">center：内容居中对齐。</span><br><span class="line">right：内容右对齐</span><br></pre></td></tr></table></figure><p><strong>文字在容器中因为容器高度只使用text-align无法居中时使用line-height将文字所在位置高度设置为容器高度行高，设置文字居中</strong></p><p>设置对象的行高。</p><p>即字体最底端与字体内部顶端之间的距离</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">line-height:normal;</span><br><span class="line">line-height:20px;</span><br></pre></td></tr></table></figure><h3><span id="首行缩进">首行缩进</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">text-index:0px;</span><br><span class="line">    length：用长度值指定文本的缩进。可以为负值。</span><br><span class="line">    each-line：</span><br><span class="line">        定义缩进作用在块容器的第一行或者内部的每个强制换行的首行，软换行不受影响。（CSS3）</span><br><span class="line">    hanging：</span><br><span class="line">        反向所有被缩进作用的行。（CSS3）</span><br></pre></td></tr></table></figure><h3><span id="文本换行">文本换行</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">word-break：normal；（碰到容器边界进行折行）</span><br><span class="line"></span><br><span class="line">normal：依照亚洲语言和非亚洲语言的文本规则，允许在字内换行。</span><br><span class="line">keep-all：</span><br><span class="line">    与所有非亚洲语言的normal相同。对于中文，韩文，日文，不允许字断开。适合包含少量亚洲文本的非亚洲文本。</span><br><span class="line">break-all：</span><br><span class="line">    该行为与亚洲语言的normal相同。也允许非亚洲语言文本行的任意字内断开。该值适合包含一些非亚洲文本的亚洲文本，比如使连续的英文字母间断行</span><br></pre></td></tr></table></figure><p>光标</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cursor:auto;    </span><br><span class="line">    help | pointer |  wait</span><br></pre></td></tr></table></figure><h3><span id="边框">边框</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">border:2px solid red;</span><br><span class="line">border：&lt;line-width&gt; || &lt;line-style&gt; || &lt;color&gt; </span><br><span class="line">        &lt;line-style&gt;= none | hidden | dotted | dashed | solid | double | inset | outset</span><br></pre></td></tr></table></figure><p>列表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">list-style：&lt; list-style-type &gt; || &lt; list-style-position&gt; || &lt; list-style-image &gt;</span><br><span class="line"></span><br><span class="line">&lt;list-style-type&gt;：设置或检索对象的列表项所使用的预设标记</span><br><span class="line">    默认值：disc</span><br><span class="line">        disc：实心圆</span><br><span class="line">        circle：空心圆</span><br><span class="line">        square：实心方块</span><br><span class="line">        decimal：阿拉伯数字</span><br><span class="line">        none：不使用项目符号</span><br><span class="line">&lt;list-style-position&gt;：设置或检索作为对象的列表项标记如何根据文本排列</span><br><span class="line">    默认值：outside   inside</span><br><span class="line">&lt;list-style-image&gt;：设置或检索作为对象的列表项标记的图像</span><br></pre></td></tr></table></figure><p>文本域</p><p>​    textarea标签     设置文本框不可拖动   <code>resize:none;</code></p><p>表格</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">border-collapse：separate；</span><br><span class="line">    设置表格的行和单元格的边是合并还是独立</span><br><span class="line">        separate：边框独立</span><br><span class="line">        collapse：相邻边被合并</span><br><span class="line"></span><br><span class="line">border-spacing：0；</span><br><span class="line">    设置当表格边框独立时，行和单元格的边框在横向和纵向上的间距</span><br><span class="line">    该属性作用等同于标签属性cellspacing(单元格边距)。</span><br><span class="line"></span><br><span class="line">border-spacing:0等同于cellspacing=&quot;0&quot;</span><br><span class="line">    只有当表格边框独立（即border-collapse:separate）此属性才起作用</span><br><span class="line"></span><br><span class="line">empty-cells:show;</span><br><span class="line">    hide：指定当表格的单元格无内容时，隐藏该单元格的边框。</span><br><span class="line">    show：指定当表格的单元格无内容时，显示该单元格的边框</span><br><span class="line">    只有当表格边框独立（即border-collapse:separate）此属性才起作用</span><br></pre></td></tr></table></figure><h3><span id="外边距">外边距</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">margin  设置对象四边的外延边距。</span><br></pre></td></tr></table></figure><ul><li>如果提供全部四个参数值，将按上、右、下、左的顺序作用于四边。</li><li>如果只提供一个，将用于全部的四边。</li><li>如果提供两个，第一个用于上、下，第二个用于左、右。</li><li>如果提供三个，第一个用于上，第二个用于左、右，第三个用于下。</li><li>非替代(non-Replaced)行内元素可以使用该属性设置左、右两边的外补丁；若要设置上、下两边的外补丁，必须先使该对象表现为块级或内联块级。</li><li>外延边距始终透明。</li></ul><h3><span id="内边距">内边距</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">padding</span><br></pre></td></tr></table></figure><p>使用padding会增加块的宽高，所以在使用padding时对应的将块的宽高进行增减</p><p>设置对象四边的内部边距。</p><ul><li>如果提供全部四个参数值，将按上、右、下、左的顺序作用于四边。</li><li>如果只提供一个，将用于全部的四边。</li><li>如果提供两个，第一个用于上、下，第二个用于左、右。</li><li>如果提供三个，第一个用于上，第二个用于左、右，第三个用于下。</li></ul><h3><span id="定位">定位</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position：static</span><br></pre></td></tr></table></figure><p>static：对象遵循常规流。此时4个定位偏移属性不会被应用。</p><p>absolute：</p><ul><li>对象脱离常规流，此时偏移属性参照的是离自身最近的定位祖先元素，如果没有定位的祖先元素，则一直回溯到body元素。盒子的偏移位置不影响常规流中的任何元素，其margin不与其他任何margin折叠。</li></ul><p>relative：</p><ul><li>对象遵循常规流，并且参照自身在常规流中的位置通过top，right，bottom，left这4个定位偏移属性进行偏移时不会影响常规流中的任何元素。</li></ul><p>相对上级元素的位置进行定位</p><ul><li><p>fixed：与absolute一致，但偏移定位是以窗口为参考。当出现滚动条时，对象不会随着滚动。</p></li><li><p>z-index: auto</p></li><li><p>auto：元素在当前层叠上下文中的层叠级别是0</p><p>​      用整数值来定义堆叠级别。可以为负值。</p></li></ul><p>设置对象的层叠顺序。</p><ul><li>z-index用于确定元素在当前层叠上下文中的层叠级别，并确定该元素是否创建新的局部层叠上下文。</li><li>同一个层叠上下文中，层叠级别大的显示在上面，反之显示在下面。</li></ul><h3><span id="block-inline-inline-block">block、inline、inline-block</span></h3><p>block-level elements (块级元素) 和 inline elements (内联元素)</p><p>block</p><ul><li>使元素变成块级元素，独占一行，在不设置自己的宽度的情况下，块级元素会默认填满父级元素的宽度</li><li>能够改变元素的height，width的值</li><li>可以设置padding，margin的各个属性值，top，left，bottom，right都能够产生边距效果</li><li>常见的块级元素有 div, form, table, p, pre, h1~h6, dl, ol, ul 等</li></ul><p>inline</p><ul><li>使元素变成行内元素，拥有行内元素的特性，即可以与其他行内元素共享一行，不会独占一行</li><li>元素前后不会产生换行，一系列inline元素都在一行内显示，直到该行排满</li><li>不能更改元素的height，width的值，大小由内容撑开</li><li>可以使用padding，margin的left和right产生边距效果，但是top和bottom就不行</li><li>常见的内联元素有 span, a, stong, en, label, input, select, textarea, img, br 等</li></ul><p>inline-block:不独占一行的块级元素</p><ul><li>使元素变成行内元素，拥有行内元素的特性，即可以与其他行内元素共享一行，不会独占一行</li><li>能够改变元素的height，width的值</li><li>可以设置padding，margin的各个属性值，top，left，bottom，right都能够产生边距效果</li></ul><p>block元素可以包含block元素和inline元素；但inline元素只能包含inline元素。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;&lt;span id=&quot;css&quot;&gt;CSS&lt;/span&gt;&lt;/h1&gt;&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#css选择器&quot;&gt;css选择器：&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#字体&quot;&gt;字体&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#背景&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="css" scheme="https://renewfan.github.io/categories/css/"/>
    
    
      <category term="css" scheme="https://renewfan.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>flex</title>
    <link href="https://renewfan.github.io/2018/12/14/flex/"/>
    <id>https://renewfan.github.io/2018/12/14/flex/</id>
    <published>2018-12-14T07:55:46.000Z</published>
    <updated>2019-01-02T08:06:05.948Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="flex布局">flex布局</span></h1><!-- toc --><ul><li><a href="#弹性盒子">弹性盒子</a><ul><li><a href="#方向">方向：</a></li></ul></li><li><a href="#子元素水平排列">子元素水平排列：</a><ul><li><a href="#子元素垂直排列">子元素垂直排列：</a><ul><li><a href="#单行">单行</a></li><li><a href="#多行">多行</a></li></ul></li><li><a href="#子元素是否换行">子元素是否换行：</a></li><li><a href="#子元素属性">子元素属性：</a></li></ul></li></ul><!-- tocstop --><p>盒子模型；box-sizng</p><p>正常增加div默认为content-box   (box-sizing:content-box)</p><pre><code>改变padding、border等属性时，盒子向外扩展，盒子会变大</code></pre><p>box-sizing:border-box   </p><p>​    改变padding、border等属性时，盒子向内扩展，盒子不会变大</p><h2><span id="弹性盒子">弹性盒子</span></h2><p>在父级元素添加 display:flex;   (浏览器兼容display:-webkit-flex;)</p><p>如果用了弹性布局，子元素不需要float、clear等父级flex的其他属性</p><h3><span id="方向">方向：</span></h3><p><strong>flex-direction:row;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">row             横向</span><br><span class="line">row-reverse     横向反转，对齐方式也会进行反转</span><br><span class="line">column          纵向</span><br><span class="line">column-reverse  纵向反转，对齐方式也会进行反转</span><br></pre></td></tr></table></figure><h2><span id="子元素水平排列">子元素水平排列：</span></h2><p><strong>jusitfy-content:flex-start;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">flex-start      居左</span><br><span class="line">flex-end        居右</span><br><span class="line">center          居中</span><br><span class="line">space-between   两端对齐，平均分布</span><br><span class="line">space-around    子元素均匀分布，等距分布</span><br></pre></td></tr></table></figure><p>在父级元素中进行方向反转后，若需要再次按照原来方想对齐则需要将子元素排列方法也反转</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flex-direction:row;</span><br><span class="line">jusitfy-content:flex-start;</span><br><span class="line">flex-direction:row-reverse;</span><br><span class="line">jusitfy-content:flex-end;</span><br></pre></td></tr></table></figure><h3><span id="子元素垂直排列">子元素垂直排列：</span></h3><p>定义子元素在交叉轴上如何对齐</p><p><strong>flex-direction设置的主轴，默认为row（水平）在主轴方向居中</strong></p><h4><span id="单行">单行</span></h4><p><strong>align-items:flex-start;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">stretch     拉伸（父级有高度时默认值，相当于不加；父级没有宽度或者高度会拉伸填充）</span><br><span class="line">flex-start  居顶</span><br><span class="line">flex-end    居底</span><br><span class="line">center      居中</span><br><span class="line">baseline    将子元素中文字基线(底部)对齐，以第一个子元素中文字基线为标准</span><br></pre></td></tr></table></figure><p><img src="https://ws3.sinaimg.cn/large/005BYqpgly1fy6cbr8qf2j306x02kwek.jpg" alt=""></p><h4><span id="多行">多行</span></h4><p><strong>align-content:stretch;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stretch 拉伸（默认值，相当于不加）</span><br><span class="line">flex-start  居左</span><br><span class="line">flex-end    居右</span><br><span class="line">center  居中</span><br></pre></td></tr></table></figure><p>子元素排列方向：</p><pre><code>flex-direction:row;        row 横向        row-reverse 横向反转        column  纵向        column-reverse  纵向反转//ps:将元素方向改为column纵向时再使元素居中需要垂直水平都居中        flex-direction:column;        align-items:center;        jusitfy-content:center;</code></pre><h3><span id="子元素是否换行">子元素是否换行：</span></h3><p><strong>​ flex-wrap:no-wrap;</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nowrap  不换行</span><br><span class="line">wrap    换行</span><br></pre></td></tr></table></figure><p>组合写</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flex-flow：&lt;&apos; flex-direction &apos;&gt; || &lt;&apos; flex-wrap &apos;&gt;</span><br><span class="line">flex-flow:column nowrap;</span><br></pre></td></tr></table></figure><h3><span id="子元素属性">子元素属性：</span></h3><p><strong>flex   系数，数字</strong><br>复合属性。设置或检索弹性盒模型对象的子元素如何分配空间。</p><ul><li>如果缩写「flex: 1」, 则其计算值为「1 1 0%」</li><li>如果缩写「flex: auto」, 则其计算值为「1 1 auto」</li><li>如果「flex: none」, 则其计算值为「0 0 auto」</li><li>如果「flex: 0 auto」或者「flex: initial」, 则其计算值为「0 1 auto」，即「flex」初始值</li><li>子元素在划分父元素宽度，先去除固定宽度</li><li>弹性盒子布局定位需要在弹性盒子外包裹一层，然后对外边不是弹性盒子的块进行定位</li></ul><p><strong>flex-grow：<number></number></strong></p><ul><li>设置弹性盒的扩展比率。</li><li>根据弹性盒子元素所设置的扩展因子作为比率来分配剩余空间。</li></ul><p><strong>align-self：auto；</strong></p><ul><li>单独设置子元素y轴对齐方式</li><li>stretch   拉伸</li><li>flex-start   居左</li><li>flex-end  居右</li><li>center    居中</li></ul><p><strong>order</strong></p><p>​        设置或检索弹性盒模型对象的子元素出现的顺序。</p><p>​        order定义将会影响 &lt;’ position ‘&gt; 值为static元素的层叠级别，</p><p>​        数值小的会被数值大的盖住。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;&lt;span id=&quot;flex布局&quot;&gt;flex布局&lt;/span&gt;&lt;/h1&gt;&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#弹性盒子&quot;&gt;弹性盒子&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#方向&quot;&gt;方向：&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a
      
    
    </summary>
    
      <category term="notes" scheme="https://renewfan.github.io/categories/notes/"/>
    
    
      <category term="flex" scheme="https://renewfan.github.io/tags/flex/"/>
    
      <category term="小程序" scheme="https://renewfan.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="css" scheme="https://renewfan.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>GitHub搭建个人博客-基本搭建</title>
    <link href="https://renewfan.github.io/2018/08/20/GitHub%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%E5%9F%BA%E6%9C%AC%E6%90%AD%E5%BB%BA/"/>
    <id>https://renewfan.github.io/2018/08/20/GitHub搭建个人博客-基本搭建/</id>
    <published>2018-08-20T08:54:34.000Z</published>
    <updated>2019-01-02T08:06:05.947Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="github搭建个人博客-基本搭建">GitHub搭建个人博客-基本搭建</span></h1><!-- toc --><ul><li><a href="#一-基本搭建">一、基本搭建</a><ul><li><a href="#1-搭建环境">1、搭建环境</a></li><li><a href="#2-github新建项目">2、Github新建项目</a></li><li><a href="#3-安装hexo">3、安装hexo</a></li><li><a href="#4-将hexo部署到github">4、将hexo部署到GitHub</a></li><li><a href="#5-新间文章并部署">5、新间文章并部署</a></li></ul></li></ul><!-- tocstop --><h2><span id="一-基本搭建">一、基本搭建</span></h2><h3><span id="1-搭建环境">1、搭建环境</span></h3><p>需要先安装node.js和node.js环境（安装一直下一步即可）<br>检测是否安装成功：<br>在命令行（cmd或者<code>git bash</code>）输入下列命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v  npm -v</span><br></pre></td></tr></table></figure><p>显示 node.js npm的版本即为成功<br><br>安装 git</p><h3><span id="2-github新建项目">2、Github新建项目</span></h3><p>在自己的GitHub上新建仓库</p><blockquote><p>仓库名：账户名.github.io</p></blockquote><p>ps:必须使用自己GitHub账户名，不然会访问不到<br><br>类型公开<br><br>勾选  Initialize this repository with a README<br><br>保存<br><br>点击右侧setting下拉找到GitHub pages 找到所创建的项目的访问网址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://账户名.github.io</span><br></pre></td></tr></table></figure><h3><span id="3-安装hexo">3、安装hexo</span></h3><p>在自己电脑合适的位置安装即可（打开git）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure><p>检查是否安装成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>初始化安装hexo的文件夹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></p><p>最后显示“Start blogging with Hexo！”即为成功<br><br><strong>安装所需组件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>使用 Hexo 生成静态文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>启动hexo</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>开启后窗口会显示一个本地网址，复制粘贴到浏览器即可访问</p><blockquote><p><a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></p></blockquote><h3><span id="4-将hexo部署到github">4、将hexo部署到GitHub</span></h3><ol><li>配置git</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;you email&quot;</span><br><span class="line">git config --global user.name &quot;you name&quot;</span><br></pre></td></tr></table></figure><p>2、生成密匙</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C “you email”</span><br></pre></td></tr></table></figure><p>连续三个回车，生成密钥，最后得到了两个文件：</p><blockquote><p>id_rsa和id_rsa.pub</p></blockquote><p>默认存储路径</p><blockquote><p>C:\用户\电脑用户名.ssh</p></blockquote><p>继续输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval &quot;$(ssh-agent -s)&quot;</span><br></pre></td></tr></table></figure></p><p>添加密钥到ssh-agent，显示 Agent pid ***<br><br>再输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure></p><p>添加生成的SSH key到ssh-agent<br></p><p>3、GitHub 添加ssh<br>在之前创建的项目中<br><br>点击右侧setting –&gt; 选择左侧栏 Deploy keys –&gt;Add deploy key</p><p>将</p><blockquote><p>C:\用户\电脑用户名.ssh 中id_rsa.pub文件里的内容复制</p></blockquote><p>测试添加 ssh 是否成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>运行后看到你自己的用户名即为成功</p><p>4、配置 hexo<br><br>在hexo安装目录找到 <strong>_config.yml</strong></p><p>搜索<strong>deploy</strong>，设置如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: 项目ssh链接</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>项目ssh链接来自GitHub项目 </p><blockquote><p>Clone and download</p></blockquote><p>安装扩展</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h3><span id="5-新间文章并部署">5、新间文章并部署</span></h3><p>创建文章</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post “文章名”</span><br></pre></td></tr></table></figure><p>在hexo\source_posts可以找到创建的文件</p><p>####分类、标签<br>Hexo 中两者有着明显的差别：<br>1、分类具有顺序性和层次性，也就是说 Foo, Bar 不等于 Bar, Foo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line"> - Diary</span><br><span class="line"> - Life</span><br><span class="line"> 会使分类`Life`成为`Diary`的子分类，而不是并列分类。</span><br></pre></td></tr></table></figure></p><p>分类创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br><span class="line"></span><br><span class="line">#编辑分类 hexo/source/categories/index.md</span><br><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2018-08-20 14:34:17</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>2、标签没有顺序和层次。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br><span class="line"></span><br><span class="line">#编辑标签  hexo/source/tags/index.md</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2018-08-20 14:35:06</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>创建标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line"> - PS3</span><br><span class="line"> - Games</span><br></pre></td></tr></table></figure></p><p>生成+部署</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g -d</span><br><span class="line">$ hexo d -g</span><br></pre></td></tr></table></figure><p>访问你的地址：http://用户名.github.io;可以看到生成的文章<br><br>参考链接：<a href="https://www.cnblogs.com/fengxiongZz/p/7707219.html" title="参考链接" target="_blank" rel="noopener">https://www.cnblogs.com/fengxiongZz/p/7707219.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;&lt;span id=&quot;github搭建个人博客-基本搭建&quot;&gt;GitHub搭建个人博客-基本搭建&lt;/span&gt;&lt;/h1&gt;&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#一-基本搭建&quot;&gt;一、基本搭建&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-搭建环境&quot;&gt;1
      
    
    </summary>
    
      <category term="hexo" scheme="https://renewfan.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="https://renewfan.github.io/tags/hexo/"/>
    
      <category term="github" scheme="https://renewfan.github.io/tags/github/"/>
    
      <category term="node.js" scheme="https://renewfan.github.io/tags/node-js/"/>
    
  </entry>
  
</feed>
